if command -v mise &> /dev/null; then
  eval "$(mise activate bash)"
fi

if command -v starship &> /dev/null; then
  export STARSHIP_CONFIG=~/.config/starship/bash.toml
  eval "$(starship init bash)"
fi

# --- Starship Integration with Fallback ---
if command -v starship >/dev/null 2>&1; then
    # Starship installed: use it
    export STARSHIP_CONFIG="$HOME/.config/starship.toml"
    eval "$(starship init bash)"
else
    # No Starship: fallback to classic bash prompt
    [[ -f "$SHELLOS_PATH/default/bash/prompt" ]] && source "$SHELLOS_PATH/default/bash/prompt"
fi

if command -v zoxide &> /dev/null; then
  eval "$(zoxide init bash)"
fi

if command -v fzf &> /dev/null; then
  if [[ -f /usr/share/fzf/completion.bash ]]; then
    source /usr/share/fzf/completion.bash
  fi
  if [[ -f /usr/share/fzf/key-bindings.bash ]]; then
    source /usr/share/fzf/key-bindings.bash
  fi
fi
